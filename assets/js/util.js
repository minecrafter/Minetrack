var MISSING_FAVICON_BASE64 = "data:image/png;base64,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";
var tooltip = $('#tooltip');

function getTimestamp(ms, timeOnly) {
    var date = new Date(0);

    date.setUTCSeconds(ms);

    return date.toLocaleTimeString();
}

function renderTooltip(x, y, html) {
	tooltip.html(html).css({
		top: y,
		left: x
	}).fadeIn(0);
}

function hideTooltip() {
	tooltip.hide();
}

function formatNumber(x) {
    return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

function msToTime(timer) {
	var milliseconds = timer % 1000;
	timer = (timer - milliseconds) / 1000;

	var seconds = timer % 60;
	timer = (timer - seconds) / 60;

	var minutes = timer % 60;
	var hours = (timer - minutes) / 60;

	var string = '';

	if (hours > 0) {
		string += hours + 'h';
	}
	if (minutes > 0) {
		string += minutes + 'm';
	}
	if (seconds > 0) {
		string += seconds + 's';
	}

	return string;
}